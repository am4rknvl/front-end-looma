(()=>{var e={};e.id=951,e.ids=[951],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},6033:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>d});var r=s(7096),i=s(6132),a=s(7284),n=s.n(a),l=s(2564),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2328)),"C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\home\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,2540)),"C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\home\\page.tsx"],m="/home/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},7616:(e,t,s)=>{Promise.resolve().then(s.bind(s,5776))},5776:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>HomePage});var r=s(784),i=s(9885),a=s(1672),n=s(2029),l=s(8200),o=s(3488),d=s(7),c=s(5441),m=s(7173),x=s(5801),u=s(5035),h=s(6641),p=s(5718),g=s(9872),f=s(7133),v=s(467);function HomePage(){let{isAuthenticated:e,user:t}=(0,m.t)(),{streams:s,categories:j,setStreams:b,setCategories:N,selectedCategory:w,setSelectedCategory:y}=(0,x.o)(),[C,_]=(0,i.useState)(!0),[k,P]=(0,i.useState)("grid"),[q,D]=(0,i.useState)("viewers"),[S,A]=(0,i.useState)([]);(0,i.useEffect)(()=>{let loadData=async()=>{try{let[e,t]=await Promise.all([Promise.resolve(u.DJ.getStreams()),Promise.resolve(u.DJ.getCategories())]);b(e),N(t)}catch(e){console.error("Error loading data:",e)}finally{_(!1)}};loadData()},[b,N]),(0,i.useEffect)(()=>{let e=[...s];switch(w&&"All"!==w&&(e=e.filter(e=>e.category===w)),q){case"viewers":e.sort((e,t)=>t.viewerCount-e.viewerCount);break;case"recent":e.sort((e,t)=>new Date(t.createdAt||0).getTime()-new Date(e.createdAt||0).getTime());break;case"trending":e.sort((e,t)=>t.viewerCount*Math.random()-e.viewerCount*Math.random())}A(e)},[s,w,q]);let handleCategorySelect=e=>{y(e===w?null:e)},Z=S.filter(e=>e.isLive),E=Z.reduce((e,t)=>e+t.viewerCount,0);return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[r.jsx(h.Z,{}),(0,r.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("div",{className:"mb-8",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-foreground mb-2",children:e?`Welcome back, ${t?.displayName||t?.username}!`:"Discover Live Streams"}),r.jsx("p",{className:"text-muted-foreground",children:e?"Check out what your favorite creators are streaming":"Join millions watching live content right now"})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-6 text-sm",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full animate-pulse"}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:[Z.length," live streams"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(a.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,r.jsxs)("span",{className:"text-muted-foreground",children:[(0,v.DT)(E)," watching"]})]})]})]})}),(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold text-foreground",children:"Browse by Category"}),(0,r.jsxs)(g.Z,{variant:"outline",size:"sm",children:[r.jsx(n.Z,{className:"w-4 h-4 mr-2"}),"More Filters"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3",children:[r.jsx("button",{onClick:()=>handleCategorySelect("All"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${w&&"All"!==w?"bg-muted text-muted-foreground hover:bg-muted/80":"bg-twitch-purple text-white"}`,children:"All Categories"}),j.map(e=>(0,r.jsxs)("button",{onClick:()=>handleCategorySelect(e.name),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${w===e.name?"bg-twitch-purple text-white":"bg-muted text-muted-foreground hover:bg-muted/80"}`,children:[e.name,r.jsx("span",{className:"ml-2 text-xs opacity-75",children:(0,v.DT)(e.viewerCount)})]},e.id))]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Sort by:"}),(0,r.jsxs)("select",{value:q,onChange:e=>D(e.target.value),className:"bg-background border border-border rounded-lg px-3 py-2 text-sm text-foreground focus:outline-none focus:ring-2 focus:ring-twitch-purple",children:[r.jsx("option",{value:"viewers",children:"Most Viewers"}),r.jsx("option",{value:"recent",children:"Recently Started"}),r.jsx("option",{value:"trending",children:"Trending"})]})]}),w&&(0,r.jsxs)(f.C,{variant:"outline",className:"flex items-center gap-2",children:[w,r.jsx("button",{onClick:()=>y(null),className:"ml-1 hover:text-destructive",children:"\xd7"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>P("grid"),className:`p-2 rounded-lg transition-colors ${"grid"===k?"bg-twitch-purple text-white":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:r.jsx(l.Z,{className:"w-4 h-4"})}),r.jsx("button",{onClick:()=>P("list"),className:`p-2 rounded-lg transition-colors ${"list"===k?"bg-twitch-purple text-white":"text-muted-foreground hover:text-foreground hover:bg-muted"}`,children:r.jsx(o.Z,{className:"w-4 h-4"})})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("h3",{className:"text-lg font-semibold text-foreground",children:w&&"All"!==w?`${w} Streams`:"Live Streams"}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:[S.length," ",1===S.length?"stream":"streams"]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(d.Z,{className:"w-4 h-4"}),r.jsx("span",{children:"Updated live"})]})]}),"grid"===k?r.jsx(p.p,{streams:S,isLoading:C}):r.jsx("div",{className:"space-y-4",children:C?[...Array(6)].map((e,t)=>r.jsx("div",{className:"animate-pulse",children:(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-card rounded-lg border border-border",children:[r.jsx("div",{className:"w-32 h-20 bg-muted rounded-lg"}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[r.jsx("div",{className:"h-4 bg-muted rounded w-3/4"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/2"}),r.jsx("div",{className:"h-3 bg-muted rounded w-1/4"})]})]})},t)):S.length>0?S.map(e=>(0,r.jsxs)("div",{className:"flex items-center gap-4 p-4 bg-card rounded-lg border border-border hover:bg-muted/50 transition-colors cursor-pointer",onClick:()=>window.location.href=`/watch/${e.id}`,children:[(0,r.jsxs)("div",{className:"relative w-32 h-20 bg-muted rounded-lg overflow-hidden flex-shrink-0",children:[r.jsx("img",{src:e.thumbnailUrl,alt:e.title,className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none",e.currentTarget.nextElementSibling.style.display="flex"}}),r.jsx("div",{className:"hidden w-full h-full items-center justify-center bg-muted",children:r.jsx("div",{className:"w-8 h-8 bg-white/20 rounded-full flex items-center justify-center",children:r.jsx("div",{className:"w-0 h-0 border-l-[8px] border-l-white border-y-[5px] border-y-transparent ml-0.5"})})}),e.isLive&&r.jsx(f.C,{variant:"live",className:"absolute top-2 left-2 text-xs",children:"LIVE"}),r.jsx("div",{className:"absolute bottom-2 right-2 bg-black/70 text-white px-2 py-1 rounded text-xs",children:(0,v.DT)(e.viewerCount)})]}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[r.jsx("h3",{className:"font-semibold text-foreground truncate mb-1",children:e.title}),r.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:e.streamer.displayName}),(0,r.jsxs)("div",{className:"flex items-center gap-3 text-xs text-muted-foreground",children:[r.jsx("span",{children:e.category}),r.jsx("span",{children:"â€¢"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(a.Z,{className:"w-3 h-3"}),r.jsx("span",{children:(0,v.DT)(e.viewerCount)})]}),r.jsx("span",{children:"â€¢"}),(0,r.jsxs)("div",{className:"flex items-center gap-1",children:[r.jsx(c.Z,{className:"w-3 h-3"}),r.jsx("span",{children:"2h 30m"})]})]})]})]},e.id)):(0,r.jsxs)("div",{className:"text-center py-16",children:[r.jsx("div",{className:"w-16 h-16 bg-muted rounded-full flex items-center justify-center mx-auto mb-4",children:r.jsx(d.Z,{className:"w-8 h-8 text-muted-foreground"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No streams found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:w?`No live streams in ${w} right now.`:"No live streams match your current filters."}),r.jsx(g.Z,{onClick:()=>y(null),children:"Clear Filters"})]})}),!C&&S.length>0&&r.jsx("div",{className:"text-center mt-12",children:r.jsx(g.Z,{variant:"outline",size:"lg",children:"Load More Streams"})})]})]})}},2328:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});var r=s(5153);let i=(0,r.createProxy)(String.raw`C:\Users\thism\OneDrive\Desktop\Coding Projects\frontend-web\src\app\home\page.tsx`),{__esModule:a,$$typeof:n}=i,l=i.default,o=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[321,782,106,971,455,794,114,906,872,173,641,133,718],()=>__webpack_exec__(6033));module.exports=s})();