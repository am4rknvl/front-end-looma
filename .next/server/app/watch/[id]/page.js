(()=>{var e={};e.id=793,e.ids=[793],e.modules={5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},1877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},5319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},9491:e=>{"use strict";e.exports=require("assert")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},8033:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>c,routeModule:()=>x,tree:()=>d});var t=r(7096),a=r(6132),i=r(7284),n=r.n(i),o=r(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(s,l);let d=["",{children:["watch",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1605)),"C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\watch\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,2540)),"C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,9291,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\thism\\OneDrive\\Desktop\\Coding Projects\\frontend-web\\src\\app\\watch\\[id]\\page.tsx"],m="/watch/[id]/page",u={require:r,loadChunk:()=>Promise.resolve()},x=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/watch/[id]/page",pathname:"/watch/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},9700:(e,s,r)=>{Promise.resolve().then(r.bind(r,7164))},7164:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>WatchStream});var t=r(784),a=r(9885),i=r(7114),n=r(8626),o=r(1672),l=r(3699),d=r(6665),c=r(7371),m=r(882),u=r(5801),x=r(7173),h=r(5035),p=r(6641),g=r(5987),b=r(8089);!function(){var e=Error("Cannot find module 'zustand'");throw e.code="MODULE_NOT_FOUND",e}();let f=Object(function(){var e=Error("Cannot find module 'zustand'");throw e.code="MODULE_NOT_FOUND",e}())(e=>({messages:[],isConnected:!1,isLoading:!1,currentStreamId:null,setMessages:s=>e({messages:s}),addMessage:s=>e(e=>({messages:[...e.messages,s].slice(-100)})),setConnected:s=>e({isConnected:s}),setLoading:s=>e({isLoading:s}),setCurrentStreamId:s=>e({currentStreamId:s}),clearMessages:()=>e({messages:[]}),removeMessage:s=>e(e=>({messages:e.messages.filter(e=>e.id!==s)}))}));var j=r(7133),v=r(9872);!function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}();let ChatBox=({streamId:e,className:s=""})=>{let[r,i]=(0,a.useState)(""),[n,l]=(0,a.useState)(!1),d=(0,a.useRef)(null),c=(0,a.useRef)(null),{messages:m,addMessage:u}=f(),{user:h,isAuthenticated:p}=(0,x.t)(),scrollToBottom=()=>{d.current?.scrollIntoView({behavior:"smooth"})};(0,a.useEffect)(()=>{scrollToBottom()},[m]),(0,a.useEffect)(()=>{let e=setTimeout(()=>l(!0),1e3),s=setInterval(()=>{let e=[{username:"viewer123",message:"Great stream! \uD83D\uDD25",isSubscriber:!0},{username:"gamer456",message:"What game is this?",isSubscriber:!1},{username:"moderator1",message:"Welcome everyone!",isModerator:!0},{username:"subscriber789",message:"Love this content!",isSubscriber:!0}],s=e[Math.floor(Math.random()*e.length)],r={id:Date.now().toString(),userId:"mock-user",username:s.username,message:s.message,timestamp:new Date().toISOString(),isSubscriber:s.isSubscriber||!1,isModerator:s.isModerator||!1,badges:s.isModerator?["moderator"]:s.isSubscriber?["subscriber"]:[]};u(r)},5e3);return()=>{clearTimeout(e),clearInterval(s)}},[u]);let formatTime=e=>new Date(e).toLocaleTimeString("en-US",{hour12:!1,hour:"2-digit",minute:"2-digit"});return(0,t.jsxs)("div",{className:`flex flex-col h-full bg-card border border-border rounded-lg ${s}`,children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 border-b border-border",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"}),t.jsx("span",{className:"text-sm font-medium",children:"Stream Chat"}),t.jsx("div",{className:`h-2 w-2 rounded-full ${n?"bg-green-500":"bg-red-500"}`})]}),t.jsx(v.Z,{variant:"ghost",size:"sm",children:t.jsx(g.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("div",{className:"flex-1 overflow-y-auto custom-scrollbar p-3 space-y-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()),{initial:!1,children:m.map(e=>(0,t.jsxs)(Object(function(){var e=Error("Cannot find module 'framer-motion'");throw e.code="MODULE_NOT_FOUND",e}()).div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"chat-message flex items-start gap-2 text-sm",children:[t.jsx("span",{className:"text-xs text-muted-foreground mt-0.5 min-w-[40px]",children:formatTime(e.timestamp)}),(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0",children:[e.badges.map(e=>t.jsx(j.C,{variant:"moderator"===e?"moderator":"subscriber"===e?"subscriber":"default",className:"text-[10px] px-1 py-0",children:"moderator"===e?"MOD":"SUB"},e)),(0,t.jsxs)("span",{className:`font-medium ${e.isModerator?"text-green-400":e.isSubscriber?"text-twitch-purple":"text-foreground"}`,children:[e.username,":"]}),t.jsx("span",{className:"text-foreground break-words",children:e.message})]})]},e.id))}),t.jsx("div",{ref:d})]}),t.jsx("div",{className:"p-3 border-t border-border",children:p?(0,t.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!r.trim()||!p||!h)return;let s={id:Date.now().toString(),userId:h.id,username:h.username,message:r.trim(),timestamp:new Date().toISOString(),isSubscriber:!1,isModerator:!1,badges:[]};u(s),i(""),c.current?.focus()},className:"flex gap-2",children:[t.jsx("input",{ref:c,type:"text",value:r,onChange:e=>i(e.target.value),placeholder:"Type a message...",className:"flex-1 px-3 py-2 text-sm bg-background border border-border rounded-md focus:outline-none focus:ring-2 focus:ring-primary",maxLength:500,disabled:!n}),t.jsx(v.Z,{type:"submit",size:"sm",disabled:!r.trim()||!n,children:t.jsx(b.Z,{className:"h-4 w-4"})})]}):(0,t.jsxs)("div",{className:"text-center py-4",children:[t.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Log in to join the conversation"}),t.jsx(v.Z,{size:"sm",variant:"primary",children:"Log In"})]})})]})};var N=r(312),w=r(467);function WatchStream(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),r=e.id,[g,b]=(0,a.useState)(!1),[f,y]=(0,a.useState)(!0),[C,S]=(0,a.useState)(!0),{currentStream:_,setCurrentStream:D}=(0,u.o)(),{isAuthenticated:k}=(0,x.t)();return((0,a.useEffect)(()=>{let loadStream=async()=>{try{let e=h.DJ.getStreams(),t=e.find(e=>e.id===r);t?D(t):s.push("/browse")}catch(e){console.error("Error loading stream:",e),s.push("/browse")}finally{y(!1)}};r&&loadStream()},[r,D,s]),f)?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx(p.Z,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:t.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-primary"})})]}):_?(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx(p.Z,{}),t.jsx("div",{className:"container mx-auto px-4 py-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-3",children:[(0,t.jsxs)("div",{className:"relative aspect-video bg-black rounded-lg overflow-hidden mb-4",children:[t.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-white text-center",children:[t.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4",children:t.jsx("div",{className:"w-0 h-0 border-l-[20px] border-l-white border-y-[12px] border-y-transparent ml-1"})}),t.jsx("p",{className:"text-lg",children:"Live Stream Player"}),t.jsx("p",{className:"text-sm text-white/70",children:"Video player would be integrated here"})]})}),_.isLive&&t.jsx("div",{className:"absolute top-4 left-4",children:t.jsx(j.C,{variant:"live",className:"text-xs font-bold",children:"LIVE"})}),(0,t.jsxs)("div",{className:"absolute top-4 right-4 bg-black/70 text-white px-3 py-1 rounded-full text-sm flex items-center gap-1",children:[t.jsx(n.Z,{className:"w-4 h-4"}),t.jsx("span",{children:(0,w.DT)(_.viewerCount)})]})]}),(0,t.jsxs)("div",{className:"bg-card rounded-lg border border-border p-6",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:_.title}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[t.jsx(o.Z,{className:"w-4 h-4"}),(0,t.jsxs)("span",{children:[(0,w.DT)(_.viewerCount)," viewers"]})]}),t.jsx(j.C,{variant:"outline",children:_.category})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(v.Z,{variant:"outline",size:"sm",onClick:()=>{navigator.share?navigator.share({title:_?.title,url:window.location.href}):navigator.clipboard.writeText(window.location.href)},children:t.jsx(l.Z,{className:"w-4 h-4"})}),t.jsx(v.Z,{variant:"outline",size:"sm",children:t.jsx(d.Z,{className:"w-4 h-4"})})]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(N.qE,{className:"w-12 h-12",children:[t.jsx(N.F$,{src:_.streamer.avatar,alt:_.streamer.displayName}),t.jsx(N.Q5,{children:_.streamer.displayName.charAt(0).toUpperCase()})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:_.streamer.displayName}),_.streamer.isVerified&&t.jsx("div",{className:"w-4 h-4 rounded-full bg-twitch-purple flex items-center justify-center",children:t.jsx("span",{className:"text-[10px] text-white font-bold",children:"âœ“"})})]}),(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[(0,w.DT)(_.streamer.followerCount)," followers"]})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsxs)(v.Z,{variant:g?"outline":"primary",onClick:()=>{if(!k){s.push("/auth/login");return}b(!g)},className:g?"":"bg-twitch-purple hover:bg-twitch-purple-dark",children:[t.jsx(c.Z,{className:`w-4 h-4 mr-2 ${g?"fill-current":""}`}),g?"Following":"Follow"]}),k&&(0,t.jsxs)(v.Z,{variant:"outline",children:[t.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Tip"]})]})]}),_.description&&t.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:t.jsx("p",{className:"text-foreground",children:_.description})}),_.tags.length>0&&t.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:t.jsx("div",{className:"flex flex-wrap gap-2",children:_.tags.map(e=>t.jsx(j.C,{variant:"outline",className:"text-xs",children:e},e))})})]})]}),t.jsx("div",{className:"lg:col-span-1",children:(0,t.jsxs)("div",{className:"sticky top-20",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-4 lg:hidden",children:[t.jsx("h3",{className:"font-semibold text-foreground",children:"Chat"}),(0,t.jsxs)(v.Z,{variant:"outline",size:"sm",onClick:()=>S(!C),children:[C?"Hide":"Show"," Chat"]})]}),t.jsx("div",{className:`${C?"block":"hidden lg:block"} h-[600px]`,children:t.jsx(ChatBox,{streamId:r})})]})})]})})]}):(0,t.jsxs)("div",{className:"min-h-screen bg-background",children:[t.jsx(p.Z,{}),t.jsx("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("h2",{className:"text-2xl font-bold text-foreground mb-2",children:"Stream not found"}),t.jsx("p",{className:"text-muted-foreground mb-4",children:"The stream you're looking for doesn't exist."}),t.jsx(v.Z,{onClick:()=>s.push("/browse"),children:"Browse Streams"})]})})]})}},1605:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var t=r(5153);let a=(0,t.createProxy)(String.raw`C:\Users\thism\OneDrive\Desktop\Coding Projects\frontend-web\src\app\watch\[id]\page.tsx`),{__esModule:i,$$typeof:n}=a,o=a.default,l=o}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),r=s.X(0,[321,782,106,971,32,906,872,173,641,133],()=>__webpack_exec__(8033));module.exports=r})();